<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Closures</title>
  <style type="text/css">
    body {
      font-family: Helvetica, Arial, sans-serif;
      font-size: 12px;
    }

    h1 {
      font-size: 1.5em;
    }

    h2 {
      font-size: 1.2em;
    }
  </style>
</head>
<body>
<p>Some paragraph text</p>
<h1>some heading 1 text</h1>
<h2>some heading 2 text</h2>

<a href="#" id="size-12">12</a>
<a href="#" id="size-14">14</a>
<a href="#" id="size-16">16</a>

<script type="text/javascript">
  // 词法作用域
  function init() {
    var name = "Foobar";

    function displayName() {
      console.log(name);
    }

    displayName();
  }
  init();

  // Closure
  function makeFunc() {
    var name = "Zorro";

    function displayName() {
      console.log(name);
    }

    return displayName;
  }
  var myFunc = makeFunc();
  myFunc();

  // Closure with args
  function makeAdder(x) {
    return function (y) {
      return x + y;
    };
  }
  var add5 = makeAdder(5);
  var add10 = makeAdder(10);
  console.log(add5(2));
  console.log(add10(2));

  // Demo
  function makeSizer(size) {
    return function () {
      document.body.style.fontSize = size + 'px';
    };
  }

  var size12 = makeSizer(12);
  var size14 = makeSizer(14);
  var size16 = makeSizer(16);

  document.getElementById('size-12').onclick = size12;
  document.getElementById('size-14').onclick = size14;
  document.getElementById('size-16').onclick = size16;
</script>
</body>
</html>